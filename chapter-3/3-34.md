## Exercise 3.34

The proposed procedure `squarer` will work for calculating the square of $a$.

``` Scheme
(define A (make-connector))
(define B (make-connector))
(squarer A B)

(probe "Square root" A)
(probe "Square value" B)

(set-value! A 2 'user)
;Probe: Square root = 2
;Probe: Square value = 4
```

However, if we instead set $b$, the result of the square, the square root $a$ is undetermined. This is obvious intuitively, e.g. if we set $b$ to be $9$, then $a$ could be $3$ or $-3$ and it can't be determined to be a single value, unless we add an additional constraint that the square root is an absolute value.

More concretely, the definition of `process-new-value` within `multiplier` specifies that in order to set a new value for one of the factors, we must know the value of the product and the other factor:

``` Scheme
(define (process-new-value)
    (cond ((or (and (has-value? m1) (= (get-value m1) 0))
               (and (has-value? m2) (= (get-value m2) 0)))
           (set-value! product 0 me))
          ((and (has-value? m1) (has-value? m2))
           (set-value! product
                       (* (get-value m1) (get-value m2))
                       me))
          ((and (has-value? product) (has-value? m1))
           (set-value! m2
                       (/ (get-value product) (get-value m1))
                       me))
          ((and (has-value? product) (has-value? m2))
           (set-value! m1
                       (/ (get-value product) (get-value m2))
                       me))))
```

Since $a$ is the value of both factors, if $a$ is unknown the value of both factors remains unknown. 

``` Scheme
(forget-value! A 'user)
;Probe: Square root = ?
;Probe: Square value = ?

(set-value! B 9 'user)
;Probe: Square value = 9
;No update is given by the probe for the square root
```

As a result, this constraint device is one-directional. The whole motivation for the propagation of constraints system is to allow us to make multi-directional constraint devices.