# Exercise 4.64

In the original version of `outranked-by`:

``` Scheme
(rule (outranked-by ?staff-person ?boss)
      (or (supervisor ?staff-person ?boss)
          (and (supervisor ?staff-person ?middle-manager)
               (outranked-by ?middle-manager ?boss))))
```

- `(supervisor ?staff-person ?boss)` is substituted for `(supervisor (Bitdiddle Ben) ?boss)` 
- `(supervisor (Bitdiddle Ben) ?boss)` will return a frame with `(Warbucks Oliver)` as `?boss`
- `(supervisor ?staff-person ?middle-manager)` will again only return `(Warbucks Oliver)` as `?middle-manager`
- `(outranked-by ?middle-manager ?boss)` will run recursively with  `(Warbucks Oliver)` as both boss and middle manager. This time round, it will return an empty frame as Oliver Warbucks has no supervisor and can't supervise himself.
- The `and` returns an empty frame which merges with the frame with `(Warbucks Oliver)` as `?boss`
- One result of Oliver Warbucks as boss for Ben Bitdiddle.

In Louis's version:

``` Scheme
(rule (outranked-by ?staff-person ?boss)
      (or (supervisor ?staff-person ?boss)
          (and (outranked-by ?middle-manager ?boss)
               (supervisor ?staff-person ?middle-manager))))
```

- `(supervisor ?staff-person ?boss)` is substituted for `(supervisor (Bitdiddle Ben) ?boss)` 
- `(supervisor (Bitdiddle Ben) ?boss)` will return a frame with `(Warbucks Oliver)` as `?boss`
- `(outranked-by ?middle-manager ?boss)` is recursively called, in a frame where `?middle-manager` and `?boss` are not yet assigned. 
  - In this recursive call, `(supervisor ?staff-person ?boss)` returns all possible supervisors for all staff.
  - One again `(outranked-by ?middle-manager ?boss)` is called recursively where `?middle-manager` and `?boss` are not yet assigned.
  - This repeats infinitely.
- The query enters an infinite loop.